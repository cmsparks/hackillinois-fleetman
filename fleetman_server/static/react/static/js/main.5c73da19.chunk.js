(this["webpackJsonpfleetman-frontend"]=this["webpackJsonpfleetman-frontend"]||[]).push([[0],{170:function(t,e,s){"use strict";s.r(e);var a=s(1),n=s.n(a),i=s(15),r=s.n(i),l=(s(55),s(2)),o=s(3),c=s(5),p=s(4),h=(s.p,s(56),s(6)),j=s(23),d=s(0),u=function(t){Object(c.a)(s,t);var e=Object(p.a)(s);function s(){return Object(l.a)(this,s),e.apply(this,arguments)}return Object(o.a)(s,[{key:"render",value:function(){var t=this;new this.props.google.maps.LatLngBounds;return null===this.props.assetData?Object(d.jsx)("div",{}):Object(d.jsx)(j.Map,{className:"Map SubView",google:this.props.google,containerStyle:{position:"relative",width:"60vw",height:"50vh"},initialCenter:{lat:this.props.assetData.geoinfo.lat,lng:this.props.assetData.geoinfo.lng},zoom:14,children:this.props.assetData.data.map((function(e){return Object(d.jsx)(j.Marker,{position:{lat:e.lat,lng:e.lng},icon:{url:"/static/react/dot.png",anchor:new t.props.google.maps.Point(4,4),scaledSize:new t.props.google.maps.Size(8,8)}})}))})}}]),s}(n.a.Component),b=Object(j.GoogleApiWrapper)({apiKey:"AIzaSyATvGRRH9nWQfuLWudRtg7dPUIRr7U6hfQ"})(u),O=(n.a.Component,s(12));function x(t){return Math.round(100*t)/100}var m=function(t){Object(c.a)(s,t);var e=Object(p.a)(s);function s(){return Object(l.a)(this,s),e.apply(this,arguments)}return Object(o.a)(s,[{key:"render",value:function(){for(var t=this,e=this.props.data.map((function(e){return e[t.props.plot]})),s=x(Math.max.apply(Math,Object(O.a)(e))),a=x(Math.min.apply(Math,Object(O.a)(e))),n=0,i=0;i<this.props.data.length;i++)n+=this.props.data[i][this.props.plot];var r=x(n/this.props.data.length);return console.log(e),console.log(s),console.log(a),console.log(r),Object(d.jsx)("div",{children:Object(d.jsxs)("div",{style:{display:"flex",flexDirection:"row",alignItems:"center",width:"1000px",margin:"30px 0"},children:[Object(d.jsxs)("span",{style:{margin:"15px"},children:["Min: ",a]}),Object(d.jsxs)("div",{style:{display:"flex",flexDirection:"row",alignItems:"center",width:"400px",height:"60px",backgroundColor:"rgba(255,99,132,.2)"},children:[Object(d.jsx)("span",{style:{margin:"0 auto"},children:Object(d.jsx)("b",{})}),Object(d.jsx)("div",{style:{display:"inline-block",alignSelf:"center",height:"100%",width:"2px",backgroundColor:"black"}}),Object(d.jsxs)("span",{style:{margin:"0 15px",marginRight:"100px"},children:["Avg: ",r]})]}),Object(d.jsxs)("span",{style:{margin:"15px"},children:["Max: ",s]})]})})}}]),s}(n.a.Component);function g(t,e){for(var s=0,a=0;a<t.length;a++)s+=t[a][e];var n;return n=s/t.length,Math.round(100*n)/100}var f=function(t){Object(c.a)(s,t);var e=Object(p.a)(s);function s(){return Object(l.a)(this,s),e.apply(this,arguments)}return Object(o.a)(s,[{key:"render",value:function(){return console.log(this.props),null===this.props.assetData?Object(d.jsxs)("div",{className:"AssetDetail AllSummary",children:[Object(d.jsxs)("h2",{children:["Asset: ",this.props.elem.asset_id," - ",this.props.elem.asset_type]}),Object(d.jsx)("p",{children:"Loading..."})]}):Object(d.jsxs)("div",{className:"AssetDetail AllSummary",children:[Object(d.jsxs)("h2",{children:["Asset: ",this.props.elem.asset_id," - ",this.props.elem.asset_type]}),Object(d.jsx)("h3",{children:"Operation Statistics"}),Object(d.jsxs)("p",{children:["Average Total Fuel: ",g(this.props.assetData.data,"total_fuel")]}),Object(d.jsxs)("p",{children:["Average Run Time: ",g(this.props.assetData.data,"total_hours")]}),Object(d.jsxs)("p",{children:["Average Fuel Used: ",g(this.props.assetData.data,"fuel_used")]}),Object(d.jsxs)("p",{children:["Operating Latitude: ",g(this.props.assetData.data,"lat")]}),Object(d.jsxs)("p",{children:["Operating Longitude: ",g(this.props.assetData.data,"lng")]}),Object(d.jsx)("h3",{children:"Asset Location Map"}),null===this.props.assetData?"Loading":Object(d.jsx)("div",{children:Object(d.jsx)(b,{assetData:this.props.assetData})}),Object(d.jsxs)("h3",{children:["Total Fuel Averages for ",this.props.elem.asset_id]}),Object(d.jsx)(m,{plot:"total_fuel",data:this.props.assetData.data}),Object(d.jsxs)("h3",{children:["Total Hours Averages for ",this.props.elem.asset_id]}),Object(d.jsx)(m,{plot:"total_hours",data:this.props.assetData.data}),Object(d.jsxs)("h3",{children:["Fuel Used Averages for ",this.props.elem.asset_id]}),Object(d.jsx)(m,{plot:"fuel_used",data:this.props.assetData.data})]})}}]),s}(n.a.Component),v=function(t){Object(c.a)(s,t);var e=Object(p.a)(s);function s(t){var a;Object(l.a)(this,s),(a=e.call(this,t)).state={assetData:null,assetDataOne:null,aid:null,elem:null},a.getAssets=a.getAssets.bind(Object(h.a)(a)),a.getAssetData=a.getAssetData.bind(Object(h.a)(a));var n=Object(h.a)(a);return fetch("fleet/assets/all").then((function(t){return t.json()})).then((function(t){return n.setState({assetData:t})})),a}return Object(o.a)(s,[{key:"getAssets",value:function(){var t=this;fetch("fleet/assets/all").then((function(t){return t.json()})).then((function(e){return t.setState({assetData:e})}))}},{key:"getAssetData",value:function(t){var e=this;fetch("fleet/id/"+t).then((function(t){return t.json()})).then((function(t){return e.setState({assetDataOne:t})}))}},{key:"render",value:function(){var t=this;if(this.props.visible){var e=Object(d.jsx)("li",{children:"Loading all assets..."});return null!==this.state.assetData&&(e=this.state.assetData.data.map((function(e){return Object(d.jsxs)("li",{children:[Object(d.jsx)("button",{onClick:function(){t.setState({elem:e}),t.getAssetData(e.asset_id)},children:"Select"}),Object(d.jsxs)("b",{children:[e.asset_id," - ",e.asset_type]})]})}))),Object(d.jsxs)("div",{className:"FullView",children:[Object(d.jsx)("div",{className:"InputHeader",children:Object(d.jsx)("button",{onClick:this.getAssets,children:"Refresh"})}),Object(d.jsxs)("ul",{className:"SidebarList",children:[e,Object(d.jsx)("li",{children:"Too many results to show all"})]}),null!==this.state.elem?Object(d.jsx)(f,{elem:this.state.elem,assetData:this.state.assetDataOne}):Object(d.jsxs)("div",{className:"AssetDetail AllSummary",children:[Object(d.jsx)("h2",{children:"No item selected"}),Object(d.jsx)("p",{children:"Select an asset id to start, for example: 1032011"})]})]})}return Object(d.jsx)("div",{})}}]),s}(n.a.Component),y=s(50),D=function(t){Object(c.a)(s,t);var e=Object(p.a)(s);function s(){return Object(l.a)(this,s),e.apply(this,arguments)}return Object(o.a)(s,[{key:"render",value:function(){var t=this,e={labels:this.props.data.map((function(t){return t.date})),datasets:[{label:this.props.plot,backgroundColor:"rgba(255,99,132,.2)",borderColor:"rgba(255,99,132,1)",borderWidth:1,hoverBackgroundColor:"rgba(255,99,132,0.4)",hoverBorderColor:"rgba(255,99,132,1)",data:this.props.data.map((function(e){return e[t.props.plot]}))}]};return Object(d.jsx)("div",{style:{margin:"60px 0"},children:Object(d.jsx)(y.Bar,{data:e})})}}]),s}(n.a.Component);function A(t){return Math.round(100*t)/100}var k=function(t){Object(c.a)(s,t);var e=Object(p.a)(s);function s(){return Object(l.a)(this,s),e.apply(this,arguments)}return Object(o.a)(s,[{key:"render",value:function(){for(var t=this,e=this.props.data.map((function(e){return e[t.props.plot]})),s=A(Math.max.apply(Math,Object(O.a)(e))),a=A(Math.min.apply(Math,Object(O.a)(e))),n=0,i=0;i<this.props.data.length;i++)n+=this.props.data[i][this.props.plot];var r=A(n/this.props.data.length);return console.log(e),console.log(s),console.log(a),console.log(r),console.log(this.props.elem[this.props.plot]),Object(d.jsxs)("div",{children:[Object(d.jsxs)("div",{style:{display:"flex",flexDirection:"row",alignItems:"center",width:"1000px",margin:"30px 0"},children:[Object(d.jsxs)("span",{style:{margin:"15px"},children:["Min: ",a]}),Object(d.jsxs)("div",{style:{display:"flex",flexDirection:"row",alignItems:"center",width:"400px",height:"60px",backgroundColor:"rgba(255,99,132,.2)"},children:[r<=this.props.elem[this.props.plot]?Object(d.jsxs)("span",{style:{margin:"0 15px",marginLeft:"100px"},children:["Avg: ",r]}):Object(d.jsx)("span",{style:{margin:"0 auto"},children:Object(d.jsxs)("b",{children:["Asset: ",A(this.props.elem[this.props.plot])]})}),Object(d.jsx)("div",{style:{display:"inline-block",alignSelf:"center",height:"100%",width:"2px",backgroundColor:"black"}}),r>this.props.elem[this.props.plot]?Object(d.jsxs)("span",{style:{margin:"0 15px",marginRight:"100px"},children:["Avg: ",r]}):Object(d.jsx)("span",{style:{margin:"0 auto"},children:Object(d.jsxs)("b",{children:["Asset: ",A(this.props.elem[this.props.plot])]})})]}),Object(d.jsxs)("span",{style:{margin:"15px"},children:["Max: ",s]})]}),Object(d.jsxs)("p",{children:["For the day of ",this.props.elem.date,", asset-",this.props.elem.asset_id," had a ",r>this.props.elem[this.props.plot]?"lower":"higher"," than average ",this.props.plot," data value. "]})]})}}]),s}(n.a.Component);var S=function(t){Object(c.a)(s,t);var e=Object(p.a)(s);function s(){return Object(l.a)(this,s),e.apply(this,arguments)}return Object(o.a)(s,[{key:"render",value:function(){return Object(d.jsxs)("div",{className:"AssetDetail AssetSummary",children:[Object(d.jsxs)("h2",{children:["Asset: ",this.props.elem.asset_id," - ",this.props.elem.asset_type]}),Object(d.jsx)("h3",{children:"Operation Statistics"}),Object(d.jsxs)("p",{children:["Date: ",this.props.elem.date]}),Object(d.jsxs)("p",{children:["Fuel Remaining: ",(t=.01*this.props.elem.pct_fuel*this.props.elem.total_fuel,Math.round(100*t)/100),"/",this.props.elem.total_fuel," (",this.props.elem.pct_fuel,"%)"]}),Object(d.jsxs)("p",{children:["Hours Out: ",this.props.elem.total_hours]}),Object(d.jsxs)("p",{children:["Latitude: ",this.props.elem.lat]}),Object(d.jsxs)("p",{children:["Longitude: ",this.props.elem.lng]}),Object(d.jsxs)("h3",{children:["Total Hours Graph and Averages for ",this.props.elem.date]}),Object(d.jsx)(k,{plot:"total_hours",data:this.props.assetData.data,elem:this.props.elem}),Object(d.jsx)(D,{plot:"total_hours",data:this.props.assetData.data,elem:this.props.elem}),Object(d.jsxs)("h3",{children:["Total Fuel Graph and Averages for ",this.props.elem.date]}),Object(d.jsx)(k,{plot:"total_fuel",data:this.props.assetData.data,elem:this.props.elem}),Object(d.jsx)(D,{plot:"total_fuel",data:this.props.assetData.data,elem:this.props.elem}),Object(d.jsxs)("h3",{children:["Fuel Used Graph and Averages for ",this.props.elem.date]}),Object(d.jsx)(k,{plot:"fuel_used",data:this.props.assetData.data,elem:this.props.elem}),Object(d.jsx)(D,{plot:"fuel_used",data:this.props.assetData.data,elem:this.props.elem})]});var t}}]),s}(n.a.Component),C=function(t){Object(c.a)(s,t);var e=Object(p.a)(s);function s(){return Object(l.a)(this,s),e.apply(this,arguments)}return Object(o.a)(s,[{key:"render",value:function(){return Object(d.jsxs)("div",{className:"AssetDetail AllSummary",children:[Object(d.jsx)("h2",{children:"No item selected"}),Object(d.jsx)("p",{children:"Select an asset id to start, for example: 1032011"})]})}}]),s}(n.a.Component),_=function(t){Object(c.a)(s,t);var e=Object(p.a)(s);function s(t){var a;return Object(l.a)(this,s),(a=e.call(this,t)).state={assetData:null,aid:null,date:"all",elem:null},a.getAssets=a.getAssets.bind(Object(h.a)(a)),a}return Object(o.a)(s,[{key:"getAssets",value:function(){var t=this;fetch("fleet/id/"+this.state.aid).then((function(t){return t.json()})).then((function(e){return t.setState({assetData:e})}))}},{key:"render",value:function(){var t=this;if(this.props.visible){var e=Object(d.jsx)("li",{children:"Search for an Asset ID"});return null!==this.state.assetData&&(e=this.state.assetData.data.map((function(e){return Object(d.jsxs)("li",{children:[Object(d.jsx)("button",{onClick:function(){return t.setState({date:e.date,elem:e})},children:"Select"}),Object(d.jsx)("b",{children:e.date})]})}))),Object(d.jsxs)("div",{className:"FullView",children:[Object(d.jsxs)("div",{className:"InputHeader",children:[Object(d.jsx)("span",{children:"Asset ID: "}),Object(d.jsx)("input",{onChange:function(e){return t.setState({aid:e.target.value})},value:this.state.aid,type:"text"}),Object(d.jsx)("button",{onClick:this.getAssets,children:"Get Assets"})]}),Object(d.jsx)("ul",{className:"SidebarList",children:e}),"all"!==this.state.date?Object(d.jsx)(S,{date:this.state.date,elem:this.state.elem,assetData:this.state.assetData}):Object(d.jsx)(C,{date:this.state.date,assetData:this.state.assetData})]})}return Object(d.jsx)("div",{})}}]),s}(n.a.Component),w=function(t){Object(c.a)(s,t);var e=Object(p.a)(s);function s(t){var a;return Object(l.a)(this,s),(a=e.call(this,t)).state={visibility:"alerts"},a}return Object(o.a)(s,[{key:"handleButton",value:function(t){this.setState({visibility:t})}},{key:"render",value:function(){var t=this;return Object(d.jsxs)("div",{children:[Object(d.jsx)("header",{className:"TitleBar",children:Object(d.jsx)("h1",{children:"Fleetman"})}),Object(d.jsx)(_,{visible:"asset"===this.state.visibility}),Object(d.jsx)(v,{visible:"alerts"===this.state.visibility}),Object(d.jsxs)("div",{className:"ViewSelector",children:[Object(d.jsx)("button",{style:{color:"alerts"===this.state.visibility?"rgb(255,99,132)":"black"},onClick:function(){return t.handleButton("alerts")},children:"Assets View"}),Object(d.jsx)("button",{style:{color:"asset"===this.state.visibility?"rgb(255,99,132)":"black"},onClick:function(){return t.handleButton("asset")},children:"Day View"})]})]})}}]),s}(n.a.Component),M=function(t){t&&t instanceof Function&&s.e(3).then(s.bind(null,171)).then((function(e){var s=e.getCLS,a=e.getFID,n=e.getFCP,i=e.getLCP,r=e.getTTFB;s(t),a(t),n(t),i(t),r(t)}))};r.a.render(Object(d.jsx)(n.a.StrictMode,{children:Object(d.jsx)(w,{})}),document.getElementById("root")),M()},55:function(t,e,s){},56:function(t,e,s){}},[[170,1,2]]]);
//# sourceMappingURL=main.5c73da19.chunk.js.map